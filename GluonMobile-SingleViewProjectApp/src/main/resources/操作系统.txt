一 操作系统概述
    1 概念、特征、功能和服务
    2 发展和分类 没有操作系统人工操作、单道批处理、多道批处理、分时系统、实时系统
    3 运行环境
    4 体系结构
二 进程管理 （进机童虎死）
    1 进程与线程：（进程的概念、状态、控制、组织和通信）
        进程实体(进程映像)--程序段、相关数据段和PCB
        进程--是进程实体的运行过程，是系统进行资源分配和调度的独立单位
        状态转换，组织(PCB)，通信，多线程
    2 处理机调度：（调度的概念、时机、准则、方式和算法）
      调度的目的：多道程序中，给进程分配处理机，使其执行
      调度的时机，调度算法要考虑的各种因素、经典调度算法(FCFS、SJF、优先级调度、高响应比优先、时间片轮转、多级反馈队列）
    3 同步与互斥
        临界区互斥的方法，信号量，管程，经典同步算法(生产-消费、读者-写者、哲学家-就餐）
    4 死锁
        产生原因，处理策略：预防、避免(银行家)、检测解除
三 内存管理
    1 内存管理基础（交换与覆盖，连续分配，非连续分配）
    2 虚拟内存管理 (请求分页管理方式，页面置换算法 ，抖动）
四 文件管理
    1 文件系统基础 （文件结构 目录结构 共享 保护）
    FCB--文件名|文件的物理位置|文件的逻辑结构|文件的物理结构|...
    FCB的有序集合称为"文件目录"，一个FCB称为一个"文件目录项"；
    索引结点的目录项包括"文件名"和"指针"，指针指向"索引结点"， "索引结点"<=>FCB

     文件按逻辑结构分为"有结构文件"和"无结构文件"
     有结构型文件的逻辑结构：
       顺序文件--记录按时间排序或按关键字排序。定长记录的顺序文件可随机访问，变长记录的则不能
       索引文件--对文件里的每一个"变长"记录建立索引，构成"索引表"，索引表按关键字排序，索引表本是"定长记录的"顺序文件，
                索引项信息包括记录的"起始地址"和"长度"
       索引顺序文件：将记录分组，为每组第一个记录做索引
                   一级索引顺序文件--将变长记录的顺序文件等分分组，对分组的第一个记录建立索引；先查索引表，找到分组，再在分组内顺序查找。
                   二级索引--对索引文件再建立索引
       ----------
        文件有--文件描述信息文件和数据文件
      文件控制块--描述和控制文件的数据结构，文件与文件控制块一一对应
      文件目录--"文件控制块"的有序集合
      一个文件目录也是文件，叫目录文件
      把文件名和文件描述信息分开，文件描述信息单独成为一个叫做"索引结点"的数据结构，则文件目录项=文件名|索引结点编号
      --------------------
      单级文件目录--在整个文件系统中只建立一张目录表，每个文件占一个目录项。缺点单用户，不允许文件重名。
      二级文件目录--主文件目录和用户文件目录，主文件目录的目录项=用户名|子文件目录表指针。缺点隔离用户，不便于文件共享
      -------------------------------
      文件共享--硬链接和软链接，硬链接使用索引结点指针；软链接也叫符号链接，创建Link文件，保存的是文件的路径
      -------------
    2 文件系统实现 （层次 目录实现 文件实现）




    3 磁盘组织与管理 （磁盘结构 调度算法 磁盘分配或回收）

五 I/0管理
    1 I/O 管理概述 （层次）
      方式：程序轮询--CPU不断询问IO系统是否完成输入
           程序中断--IO系统通知CPU完成输入，CPU中断当前程序去处理数据
           DMA--数据块直接到内存，由DMA控制器完成
           通道
      软件层次：用户层、独立层、驱动层、中断层


    2 I/O 核心子系统 （缓存，缓冲，SPOOLING)
     脱机处理：是指在不受主机控制的外部设备上进行数据处理
     SPOOLING: 假脱机技术-实质是将数据放在磁盘上


--考核点
作业调度算法
进程的同步与互斥 *** 重点
银行家算法避免死锁
资源分配图判定死锁
页式内存管理逻辑地址到物理地址的转换

** 银行家算法
首次申请时：Max <= available ， 即进程最大资源需求量 <= 系统可用资源量
再次申请
1）Request <= need, 即请求量 <= 所需的， 其中need = max - allocation
2) Request <= available 请求量 <= 系统可用量
3）尝试分配，检查安全状态

安全状态思想：
检查系统可用资源 available "能否满足" 某一进程的need, 如果满足，回收这个进程的资源allocation,
available += allocation, 继续检查，直到满足所有进程的need，产生的包含"所有"进程序列即为安全序列，
也可能不存在

** 内存管理


内存管理基础
交换和覆盖
	覆盖：单一进程，分为固定去和可覆盖区
	交换：将空闲的进程交换出内存，将就绪的进程放入内存
连续分配：对进程分配连续的内存空间
	单一进程分配：系统进程内存和用户进程内存
	固定分配：预先分好几个固定块，每块的大小可相等，也可不相等
	动态分布：根据程序的大小分配连续内存

* 非连续分配：页式分配、段式分配、段页式分配

页式分配：虚拟地址=虚拟页号|页内地址（页内偏移量）
		页表项 = 虚拟页号P|物理页号
		转换： 页表寄存器=页表起始地址F|页表长度M|      页表项地址= F + P*len(页表项)        物理地址=物理块号|页内地址 （拼）

二级页表：虚拟地址=一级页号|二级页号|页内偏移


段式分配：虚拟地址=虚拟段号|段内偏移量(w)
         段表项=虚拟段号|段长|本段在主存中的起始地址(b)|
         转换： 段表寄存器=段表起始地址F|段表长度M   段表项地址=段表起始地址 + （段号S * len(段表项）） 物理地址=b+w

段页式分配：虚拟地址=段号|段内页号|页内偏移量
          段表项=段号|页表长度|页表起始地址|

** 虚拟内存管理
请求分页：
    页表项：  页号|物理块号|状态位p|访问字段A|修改位M|外存地址|
          状态位P: 指示该页是否已调入内存（程序访问）
          访问字段A: 访问次数或多长时间没有访问（置换算法）
          修改位M:是否被修改过
          外存地址：该页在外存上的地址，通常是物理地址

    置换算法 OPT FIFO LRU
    CLOCK(NRU) 一个使用位，找=0的，扫描1->0; 改进性，使用|修改 两位，找00，找01，否则使用位->0,再找
    页面分配策略：

-------------文件管理


**外存的组织方式
 连续组织--占用磁盘上一组连续的块，表示方式--第一块的地址和连续的块数，缺点-碎片、必须连续空间、不灵活插入删除
 隐式链接组织--每个磁盘块都有指向下一个磁盘块的指针，最后一块没有；目录项包括第一块的指针和最后一块的指针；缺点-只能顺序访问、效率差
 显式链接组织--把放在文件块末尾的指针放在内存中的一张链表FAT，第一个盘块号放在FCB的物理地址中; 缺点需要将整个FAT调入内存
 单级索引组织--把每个文件的所有盘块号集中放在一起构成一个索引表（就是把盘块号顺序放入数组-即盘块中），缺点-小文件索引表也占用一个盘块）
 二级索引组织--当需要多个索引表块来装盘块号时，对索引表块再建立索引
          扩展 1链接多块 2多层索引块 3混合索引块）
 增量式索引--直接盘块号，一级索引，二阶索引...混合使用

 一个盘块能装的盘块号n=盘块容量m/盘块号长度l
 一级索引 n个盘块号，最大文件长度n*m
 二阶索引能装 n*n个盘块号， 最大文件长度 n*n*m

**空闲盘块管理方法
文件空间空闲-回收管理
 空闲表法--建立空闲盘块表；空闲表 表项=序号|第一个空闲盘块号|空闲盘块数|；
        分配有首次适应、循环适应

 空闲链表法--将所有空闲盘区拉成一条链；空闲盘块链，空闲盘区链
 位试图法--二维表 使用二进制的一位表示一个盘块的使用情况；有行列，盘块号=n(i-1)+j, n是每行的个数，i行，j列
 成组链表法--


** 磁盘管理
柱面号-盘面号-扇区
寻道时间：磁头移动到指定磁道所需的时间 m*n+s ，n-跨越的磁道，m-参数时间，s-启动磁臂的时间
延迟时间：磁头定位到扇区所需的时间  1/(2r)  r-转速
传输时间：从磁盘读出或写入数据所经历的时间 b/(N*r) b-读出的字节数 N-磁道上的字节数

磁盘调度算：FCFS SSTF SCAN C-SCAN



